DROP DATABASE IF EXISTS test;
CREATE DATABASE test;
USE test;
CREATE TABLE t1 (
id int PRIMARY KEY AUTO_INCREMENT
) ENGINE=mroonga DEFAULT CHARSET utf8mb4 ROW_FORMAT=DYNAMIC;
CREATE TABLE t2 (
id int PRIMARY KEY AUTO_INCREMENT,
id_t1 int NOT NULL,
CONSTRAINT `id_t1` FOREIGN KEY (`id_t1`) REFERENCES `t1` (`id`)
) ENGINE=mroonga DEFAULT CHARSET utf8mb4 ROW_FORMAT=DYNAMIC;
DROP TABLE t1;
ERROR HY000: [table][remove] a column that references the table exists: <t2.id_t1> -> <t1>
ALTER TABLE t2 DROP FOREIGN KEY `id_t1`;
DROP TABLE t1;
DROP TABLE t2;
