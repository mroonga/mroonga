DROP TABLE IF EXISTS referred, refer;
CREATE TABLE referred (
id int PRIMARY KEY AUTO_INCREMENT
) ENGINE=Mroonga;
CREATE TABLE refer (
id int PRIMARY KEY AUTO_INCREMENT,
id_referred int NOT NULL,
CONSTRAINT id_referred FOREIGN KEY (id_referred) REFERENCES referred (id)
) ENGINE=Mroonga;
SHOW CREATE TABLE refer;
Table	Create Table
refer	CREATE TABLE `refer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_referred` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_referred` (`id_referred`),
  CONSTRAINT `id_referred` FOREIGN KEY (`id_referred`) REFERENCES `test`.`referred` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=Mroonga  DEFAULT CHARSET=latin1
DROP TABLE refer;
DROP TABLE referred;
