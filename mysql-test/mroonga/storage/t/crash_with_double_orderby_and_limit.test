--source ../../include/mroonga/have_mroonga.inc
--disable_warnings
DROP TABLE IF EXISTS t1;
--enable_warnings

CREATE TABLE t1 (num int, val varchar(32), PRIMARY KEY(num), FULLTEXT KEY(val)) Engine= Mroonga;
INSERT INTO t1 VALUES (1, 'one');

SELECT * FROM t1 WHERE match(val) against('one') ORDER BY val, val;         # This doesn't crash.
SELECT * FROM t1 WHERE match(val) against('one') ORDER BY val, val LIMIT 1; # This doesn't crash.
SELECT * FROM t1 WHERE match(val) against('one') ORDER BY num, num;         # This doesn't crash.
SELECT * FROM t1 WHERE match(val) against('one') ORDER BY num, num LIMIT 1; # This makes crash.
SELECT * FROM t1 WHERE match(val) against('two') ORDER BY num, num LIMIT 1; # This makes crash.

DROP TABLE t1;
--source ../../include/mroonga/have_mroonga_deinit.inc
